/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  isProgramError,
  type Address,
  type SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM,
  type SolanaError,
} from '@solana/kit';
import { LAUNCHPAD_PROGRAM_ADDRESS } from '../programs';

/** InvalidTokenSaleAmount: The number of tokens for sale cannot be zero or exceed the total supply. */
export const LAUNCHPAD_ERROR__INVALID_TOKEN_SALE_AMOUNT = 0x1770; // 6000
/** SaleNotFunding: The token sale is not in the funding state. */
export const LAUNCHPAD_ERROR__SALE_NOT_FUNDING = 0x1771; // 6001
/** InsufficientTokens: Not enough tokens available in the pool for this purchase. */
export const LAUNCHPAD_ERROR__INSUFFICIENT_TOKENS = 0x1772; // 6002
/** InsufficientTokensToSell: Not enough tokens in your account to sell. */
export const LAUNCHPAD_ERROR__INSUFFICIENT_TOKENS_TO_SELL = 0x1773; // 6003
/** InsufficientSOL: Not enough SOL in the bonding curve to facilitate this sale. */
export const LAUNCHPAD_ERROR__INSUFFICIENT_S_O_L = 0x1774; // 6004
/** Unauthorized: You are not authorized to perform this action. */
export const LAUNCHPAD_ERROR__UNAUTHORIZED = 0x1775; // 6005
/** ArithmeticOverflow: An arithmetic operation overflowed. */
export const LAUNCHPAD_ERROR__ARITHMETIC_OVERFLOW = 0x1776; // 6006
/** InvalidMint: The provided mint does not match the expected mint. */
export const LAUNCHPAD_ERROR__INVALID_MINT = 0x1777; // 6007
/** TokenAlreadyCreated: Token has already been created for this launchpad. */
export const LAUNCHPAD_ERROR__TOKEN_ALREADY_CREATED = 0x1778; // 6008
/** InvalidInitialPrice: Initial price must be greater than zero. */
export const LAUNCHPAD_ERROR__INVALID_INITIAL_PRICE = 0x1779; // 6009
/** InvalidTokenAmount: Token amount must be greater than zero. */
export const LAUNCHPAD_ERROR__INVALID_TOKEN_AMOUNT = 0x177a; // 6010
/** InvalidVault: The provided token vault does not match the stored vault. */
export const LAUNCHPAD_ERROR__INVALID_VAULT = 0x177b; // 6011
/** InvalidSolRaiseTarget: SOL raise target must be greater than zero. */
export const LAUNCHPAD_ERROR__INVALID_SOL_RAISE_TARGET = 0x177c; // 6012
/** NotInTransitionState: The launchpad is not in the transition state. */
export const LAUNCHPAD_ERROR__NOT_IN_TRANSITION_STATE = 0x177d; // 6013
/** UnauthorizedPlatform: You are not the authorized platform to perform this action. */
export const LAUNCHPAD_ERROR__UNAUTHORIZED_PLATFORM = 0x177e; // 6014

export type LaunchpadError =
  | typeof LAUNCHPAD_ERROR__ARITHMETIC_OVERFLOW
  | typeof LAUNCHPAD_ERROR__INSUFFICIENT_S_O_L
  | typeof LAUNCHPAD_ERROR__INSUFFICIENT_TOKENS
  | typeof LAUNCHPAD_ERROR__INSUFFICIENT_TOKENS_TO_SELL
  | typeof LAUNCHPAD_ERROR__INVALID_INITIAL_PRICE
  | typeof LAUNCHPAD_ERROR__INVALID_MINT
  | typeof LAUNCHPAD_ERROR__INVALID_SOL_RAISE_TARGET
  | typeof LAUNCHPAD_ERROR__INVALID_TOKEN_AMOUNT
  | typeof LAUNCHPAD_ERROR__INVALID_TOKEN_SALE_AMOUNT
  | typeof LAUNCHPAD_ERROR__INVALID_VAULT
  | typeof LAUNCHPAD_ERROR__NOT_IN_TRANSITION_STATE
  | typeof LAUNCHPAD_ERROR__SALE_NOT_FUNDING
  | typeof LAUNCHPAD_ERROR__TOKEN_ALREADY_CREATED
  | typeof LAUNCHPAD_ERROR__UNAUTHORIZED
  | typeof LAUNCHPAD_ERROR__UNAUTHORIZED_PLATFORM;

let launchpadErrorMessages: Record<LaunchpadError, string> | undefined;
if (process.env.NODE_ENV !== 'production') {
  launchpadErrorMessages = {
    [LAUNCHPAD_ERROR__ARITHMETIC_OVERFLOW]: `An arithmetic operation overflowed.`,
    [LAUNCHPAD_ERROR__INSUFFICIENT_S_O_L]: `Not enough SOL in the bonding curve to facilitate this sale.`,
    [LAUNCHPAD_ERROR__INSUFFICIENT_TOKENS]: `Not enough tokens available in the pool for this purchase.`,
    [LAUNCHPAD_ERROR__INSUFFICIENT_TOKENS_TO_SELL]: `Not enough tokens in your account to sell.`,
    [LAUNCHPAD_ERROR__INVALID_INITIAL_PRICE]: `Initial price must be greater than zero.`,
    [LAUNCHPAD_ERROR__INVALID_MINT]: `The provided mint does not match the expected mint.`,
    [LAUNCHPAD_ERROR__INVALID_SOL_RAISE_TARGET]: `SOL raise target must be greater than zero.`,
    [LAUNCHPAD_ERROR__INVALID_TOKEN_AMOUNT]: `Token amount must be greater than zero.`,
    [LAUNCHPAD_ERROR__INVALID_TOKEN_SALE_AMOUNT]: `The number of tokens for sale cannot be zero or exceed the total supply.`,
    [LAUNCHPAD_ERROR__INVALID_VAULT]: `The provided token vault does not match the stored vault.`,
    [LAUNCHPAD_ERROR__NOT_IN_TRANSITION_STATE]: `The launchpad is not in the transition state.`,
    [LAUNCHPAD_ERROR__SALE_NOT_FUNDING]: `The token sale is not in the funding state.`,
    [LAUNCHPAD_ERROR__TOKEN_ALREADY_CREATED]: `Token has already been created for this launchpad.`,
    [LAUNCHPAD_ERROR__UNAUTHORIZED]: `You are not authorized to perform this action.`,
    [LAUNCHPAD_ERROR__UNAUTHORIZED_PLATFORM]: `You are not the authorized platform to perform this action.`,
  };
}

export function getLaunchpadErrorMessage(code: LaunchpadError): string {
  if (process.env.NODE_ENV !== 'production') {
    return (launchpadErrorMessages as Record<LaunchpadError, string>)[code];
  }

  return 'Error message not available in production bundles.';
}

export function isLaunchpadError<TProgramErrorCode extends LaunchpadError>(
  error: unknown,
  transactionMessage: {
    instructions: Record<number, { programAddress: Address }>;
  },
  code?: TProgramErrorCode
): error is SolanaError<typeof SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM> &
  Readonly<{ context: Readonly<{ code: TProgramErrorCode }> }> {
  return isProgramError<TProgramErrorCode>(
    error,
    transactionMessage,
    LAUNCHPAD_PROGRAM_ADDRESS,
    code
  );
}
